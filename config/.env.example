# Kalshi Sentinel config

# demo or prod
KALSHI_ENV=demo

# API credentials
KALSHI_KEY_ID=
KALSHI_PRIVATE_KEY_PATH=

# Optional override (otherwise derived from env)
# KALSHI_BASE_URL=https://demo-api.kalshi.co/trade-api/v2

# Backend
PORT=8099

# Trading safety (must be explicitly enabled)
AUTO_TRADING_ENABLED=false

# Order safety allowlist (backend)
# Comma-separated ticker prefixes allowed for live orders.
ORDER_TICKER_ALLOW_PREFIXES=KXBTC,KXBTC15M,KXBTCD,KXETH

# Autotrader (v0)
# Stop conditions (set to 0 to disable)
TRADER_MAX_TRADES=0
TRADER_TARGET_TRADES=0
TRADER_TARGET_SPEND_CENTS=0
TRADER_FORCE_COMPLETE=false
TRADER_PAPER_MAX_TRADES=5

# Budgeting
TRADER_MAX_COST_CENTS_PER_TRADE=200
TRADER_DAILY_MAX_COST_CENTS=1000   # interpreted as max NET spend per local day

# Cadence + universe
TRADER_INTERVAL_SECONDS=30
TRADER_HOURS_AHEAD=24
# TRADER_CUTOFF_LOCAL is deprecated (autotrader runs continuously until stopped)

# Gates
TRADER_MAX_ENTRY_PRICE_CENTS=30
TRADER_MIN_TOP_QTY=50
TRADER_MAX_SPREAD_CENTS=10
TRADER_DEPTH_WITHIN_CENTS=2
TRADER_TOP_QTY_FRACTION=0.30
TRADER_CANDIDATES_TO_CHECK=25

# Fair-probability / edge model (BTC15M)
TRADER_MIN_EDGE_BPS=12
TRADER_MIN_MKT_PROB=0.12
TRADER_MAX_MKT_PROB=0.88
TRADER_LOTTERY_MAX_COST_CENTS=300
TRADER_FAIR_K=0.8
TRADER_FAIR_VOL_WINDOW_SECONDS=300
TRADER_FAIR_MAX_SHIFT_PROB=0.03
TRADER_EXIT_EDGE_EPS_BPS=4
TRADER_MAX_HOLD_SECONDS=900
TRADER_MIN_EXIT_BID_CENTS=1
TRADER_MAX_POSITION_PER_TICKER=80

# Autotrader allowlist + exposure caps
TRADER_TICKER_ALLOW_PREFIXES=KXBTC,KXBTC15M,KXBTCD,KXETH
TRADER_MAX_BTC_EXPOSURE_CENTS=2000
TRADER_MAX_ETH_EXPOSURE_CENTS=2000

# BTC spot feed + momentum signal (used for BTC15M "up" markets)
TRADER_PRICE_FEED_URL=https://api.coinbase.com/v2/prices/BTC-USD/spot
TRADER_MOMENTUM_LOOKBACK_SECONDS=180
TRADER_MOMENTUM_THRESHOLD_BPS=8
TRADER_MIN_MINUTES_TO_CLOSE=2

# Notifications (optional)
# Create a Telegram bot via @BotFather, then set your chat id
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Exit logic + risk guardrails (optional)
TRADER_EXITS_ENABLED=false
TRADER_TAKE_PROFIT_UNREAL_CENTS=0
TRADER_STOP_LOSS_UNREAL_CENTS=0
TRADER_DAILY_REALIZED_LOSS_LIMIT_CENTS=0
TRADER_EXIT_MAX_SLIPPAGE_CENTS=0
TRADER_LEDGER_PATH=data/trades.sqlite
TRADER_DAY_STATE_PATH=data/day_state.json
